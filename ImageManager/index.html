<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片管理器</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>图片管理器</h1>
            <nav>
                <ul>
                    <li><a href="#gallery" class="active">相册</a></li>
                    <li><a href="#collections">图片集</a></li>
                    <li><a href="#upload">上传</a></li>
                </ul>
            </nav>
            <div class="controls">
                <select id="sort-select">
                    <option value="newest">最新上传</option>
                    <option value="oldest">最早上传</option>
                    <option value="name">名称排序</option>
                </select>
            </div>
        </div>
    </header>

    <main>
        <!-- 上传区域 -->
        <section id="upload" class="section">
            <div class="container">
                <div class="upload-container">
                    <div class="drop-area" id="drop-area">
                        <div class="drop-area-content">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            <p>拖拽图片到此处或点击上传</p>
                            <input type="file" id="file-input" accept="image/*" multiple style="display: none;">
                            <button id="upload-btn" class="btn">选择图片</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 图片库区域 -->
        <section id="gallery" class="section">
            <div class="container">
                <div class="gallery-header">
                    <h2>所有图片</h2>
                    <div class="filter-controls">
                        <input type="text" id="search-input" placeholder="搜索图片...">
                        <button id="clear-search" class="btn btn-secondary">清除</button>
                    </div>
                </div>
                <div class="image-grid" id="image-grid">
                    <!-- 图片将通过JavaScript动态加载 -->
                    <div class="no-images">
                        <p>暂无图片，请上传</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 图片集区域 -->
        <section id="collections" class="section">
            <div class="container">
                <div class="collections-header">
                    <h2>图片集</h2>
                    <button id="create-collection" class="btn">创建新集合</button>
                </div>
                <div class="collections-grid" id="collections-grid">
                    <!-- 图片集将通过JavaScript动态加载 -->
                    <div class="no-collections">
                        <p>暂无图片集</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 图片详情模态框 -->
    <div id="image-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="modal-image-container">
                    <img id="modal-image" src="" alt="图片预览">
                </div>
                <div class="modal-info">
                    <h3 id="modal-title">图片详情</h3>
                    <div class="form-group">
                        <label for="modal-description">图片描述：</label>
                        <textarea id="modal-description" rows="4" placeholder="添加描述..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="modal-date">拍摄/上传日期：</label>
                        <input type="datetime-local" id="modal-date">
                    </div>
                    <div class="form-group">
                        <label>添加到集合：</label>
                        <div class="collection-selector" id="collection-selector">
                            <!-- 集合选择器将动态生成 -->
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button id="save-changes" class="btn">保存更改</button>
                        <button id="delete-image" class="btn btn-danger">删除图片</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 创建集合模态框 -->
    <div id="collection-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h3>创建新图片集</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="collection-name">集合名称：</label>
                    <input type="text" id="collection-name" placeholder="输入集合名称">
                </div>
                <div class="form-group">
                    <label for="collection-desc">集合描述（可选）：</label>
                    <textarea id="collection-desc" rows="3" placeholder="输入集合描述"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-collection" class="btn btn-secondary">取消</button>
                <button id="confirm-collection" class="btn">创建</button>
            </div>
        </div>
    </div>

    <!-- 通知组件 -->
    <div id="notification" class="notification"></div>

    <footer>
        <div class="container">
            <p>&copy; 2024 图片管理器 - 简单高效的图片管理解决方案</p>
        </div>
    </footer>

    <script type="module" src="js/app.js"></script>
</body>
</html>